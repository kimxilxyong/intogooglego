<!doctype html>
<html  lang="en">
	<head>
		<title>JSON Scroller Test</title>
		<!--
		<link href="http://rpnzl.com/css/reset.css" rel="stylesheet" type="text/css">
		<link href="http://rpnzl.com/css/prettify.css" rel="stylesheet" type="text/css">
		<link href="http://rpnzl.com/css/jquery.fancybox.css" rel="stylesheet" type="text/css">
		<link href="http://rpnzl.com/css/style.css" rel="stylesheet" type="text/css">
		-->
		
		<script src="http://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
		
		<link href="/css/ssjq-layout-debug.css" rel="stylesheet" type="text/css">
		
		<script type="text/javascript">
		console.log("Test LOG");
		</script>
		
		
	</head>
	<body>

		
	 <script>
	    $(document).ready(function () {
			// Lazy Load
			console.log("Start lazy");
			$(document).scroll(function(e){
				console.log("ScrollEvent:" + e);
			});
		});
		
		$(document).ready(function () {
			// Debug fill thread
			console.log("Start fill: " + $("#thread").html());
			var newText = "";
			var index = 0;
			
			while (index < 100) {
				newText = newText + index + "<br>";
				index++;
			}
			$("#thread").html(newText);
			
			DumpLayout();
		});
		
		$(document).ready(function(){  
		   
		   resizeContent();
		  //attach on resize event
		   $(window).resize(function() {
			   resizeContent();
			});
		});
		function resizeContent()
		{
		   console.log("Resize");
		   //$('#content').attr('height', $(window).height() - $('#header').height() - $('#footer').height());
		   
		    var sidebarheight = $(window).height();
			var sidebartop = 0;
			var footerheight = 0;
		    $( ".ssjq-layout-header" ).each(function( index ) {
			    sidebarheight -= $(this).height();
                sidebartop += $(this).height();
				console.log( index + " header: " + $(this).height() + ", sidebarheight: " + sidebarheight);
            });
			$( ".ssjq-layout-footer" ).each(function( index ) {
			    sidebarheight -= $(this).height();
                footerheight += $(this).height();
				console.log( index + " footer: " + $(this).height() + ", sidebarheight: " + sidebarheight);
            });
			
			console.log("Final sidebarheight: " + sidebarheight);
		    console.log("Final sidebartop: " + sidebartop);
			console.log("Final footerheight: " + footerheight);
			
			//$(".left").offset({ top: sidebartop });
			$(".ssjq-layout-left").height(sidebarheight);
			$(".ssjq-layout-right").height(sidebarheight);
			
			$("#ssjq-layout-content").css('margin-top', sidebartop);
			$("#ssjq-layout-content").css('margin-bottom', footerheight);
		};	
		
        function DumpLayout()
        {
			console.log("Test body height: " + $("body").height());
			console.log("Test window height: " + $(window).height());
			
			console.log("Test header height: " + $(".ssjq-layout-header").height());
			
			console.log("Test left offset.top: " + $(".ssjq-layout-left").offset().top);
			console.log("Test left height: " + $(".ssjq-layout-left").height());
			$( ".ssjq-layout-left" ).each(function( index ) {
                console.log( "left " + index + ": " + $(this).height());
            });

            console.log("Test right offset.top: " + $(".ssjq-layout-right").offset().top);
			console.log("Test right height: " + $(".ssjq-layout-right").height());
			$( ".ssjq-layout-right" ).each(function( index ) {
                console.log( "right " + index + ": " + $(this).height());
            });

			console.log("Test right offset.top: " + $(".ssjq-layout-right").offset().top);
			console.log("Test right height: " + $(".ssjq-layout-right").height());

        };		
    </script>


<div id="ssjq-layout-container">
	<!--
     <div id="header" class="header">
         <h4>This is XXX header</h4>
    </div>

	<div class="left">Left XXXXXXXXXXXXXX Col</div>
<div class="right">Right Col</div>
	-->

	
	<div class="ssjq-layout-left">Left XXXXXX XXXXXXXX Col
       <p class="ssjq-layout-bottomalign">
          CONTENT Bottom
       <br>CONTENT Bottom END
       </p>
	</div>
	
	<div class="ssjq-layout-right">Right Col
	   <p class="ssjq-layout-bottomalign">
          CONTENT Bottom
       <br>CONTENT Bottom END
       </p>
	</div>

  <!-- <div class="row"> -->
  	    <div id="ssjq-layout-content" >

			<p class="ssjq-layout-rightalign">
			    CONTENT Right
				<br>CONTENT Right END <br>
			</p>    
            <br>CONTENT START <br>
            <div id="thread">Middle Col<br  />
                Middle Col<br>
                Middle XXXXCol<br>
                Middle Col<br>
                Middle Col<br>
            </div>
			
			<p class="ssjq-layout-rightalign">
			    CONTENT Right
				<br>CONTENT Right END <br>
			</p>
			<br>CONTENT END <br>
  		    
  	    </div>
    <!--  </div> -->
	<!--
    <div id="footer" class="footer">
        <h4>This is footer</h4>
    </div>
    -->
	
		
     <div class="ssjq-layout-header">
         <h4>This is a outer header</h4>
    </div>
	
	<div class="ssjq-layout-footer">
        <h4>This is a outer middled footer</h4>
    </div>

	</body>
</html>